{% extends 'journal/layout.html' %}
{% load static %}

{% block title %}{% if is_update %}Edit Entry{% else %}New Entry{% endif %}{% endblock %}

{% block body %}
    {% include 'journal/_entry_form.html' with is_update=is_update %}
{% endblock %}

{% block script %}
{{ form.media }}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const titleField = document.getElementById('{{ form.title.id_for_label }}');
        if (titleField) {
            titleField.focus();
        }
        
        // Add Bootstrap classes to form fields
        const formFields = document.querySelectorAll('input[type="text"], textarea, select');
        formFields.forEach(field => {
            field.classList.add('form-control');
        });
        
        // Initialize tag input with suggestions
        const tagInput = document.getElementById('{{ form.tags.id_for_label }}');
        if (tagInput) {
            // This is where you could initialize a tag input library if desired
            // For example, using Choices.js or similar
        }
    });
</script>
{% endblock %}
